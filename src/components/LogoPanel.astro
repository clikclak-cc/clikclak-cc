---
import { Image } from 'astro:assets';
import Panel from './Panel.astro';
import logoDark from '../assets/logo.svg';
import logoLight from '../assets/logo-light.svg';
---

<Panel id="logo" active noInner>
  <Image src={logoDark} alt="ClikClak" class="logo-img logo-dark" loading="eager" />
  <Image src={logoLight} alt="ClikClak" class="logo-img logo-light" loading="eager" />
</Panel>

<style>
  .logo-img {
    width: 90%;
    max-width: 1000px;
    transition: opacity 0.4s ease;
    height: auto;
  }

  .logo-dark,
  .logo-light {
    position: absolute;
    transition: opacity 0.4s ease;
  }

  .logo-light {
    opacity: 0;
  }

  @media (prefers-color-scheme: light) {
    :global(:root:not([data-theme="dark"])) .logo-dark {
      opacity: 0;
    }
    :global(:root:not([data-theme="dark"])) .logo-light {
      opacity: 1;
    }
  }

  :global(:root[data-theme="light"]) .logo-dark {
    opacity: 0;
  }

  :global(:root[data-theme="light"]) .logo-light {
    opacity: 1;
  }

  :global(:root[data-theme="dark"]) .logo-dark {
    opacity: 1;
  }

  :global(:root[data-theme="dark"]) .logo-light {
    opacity: 0;
  }

  @media (max-width: 640px) {
    .logo-img {
      width: 100%;
    }
  }
</style>
